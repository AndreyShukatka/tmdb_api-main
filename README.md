# Скрипты для поиска фильмов в The Movie Database (TMDB)

Данный набор скриптов предназначен для скачивания данных о фильмах с TMDB и сохранения их в локальной базе в файле формата Json. 

Реализован поиск фильма по названию, а также поиск фильмов похожих на заданный.

## Требования
1. Установить Python
2. Скопируйте репозиторий.
3. Установить рекомендованные библиотеки из файла `requirements.txt`
```
pip install -r requirements.txt
```


# hello_api_TMDB
Принимает значение ключа API и создаёт переменную `user_api_key` из функции `get_user_api_key`, если ключ не верный, то возвращает сообщение:
```
Invalid api key
```

Если API ключ был введён верно, то cкрипт извлекает бюджет фильма с `id 215`
```
4000000
```

## Использование

В терминале введите команду:
```shell
python hello_api_TMDB.py
```

Скрипт запросит секретный ключ, необходимо его ввести:
```shell
Enter your api key v3:секретный_ключ
4000000
```

# find_similar
Файл выводит рекомендованные фильмы для просмотра, анализируя введённый фильм пользователем.

При запуске просит пользователя ввести путь к базе данный

Создаёт переменную `films_data` , в которой при помощи функции `load_data`  открыват в указанном ранее пути Json объект.

Если указан неверный путь, то выводит сообщение:
```
'File not found, sorry...'
```
Если путь указан верно, то следующим просит ввести пользователя название фильма для поиска

Далее с помощью функции `find_my_film` ищет данный фильм в базе.

Если фильм не найден, то выводит сообщение:
```
No such film in FilmsDB
```

Если фильм был найден, то выводит рекомендованные фильмы к просмотру

# own_db_helpers
Возвращает Json объект из базы данных, запрошенных в файле find_similar

# tmdb_helpers.py

Содержит функции для скачивания информации из TMDB и проверки секретного ключа.
# make_own_db
Создание локальной базы фильмов под именем `MyFilmDB.json` в формате JSON.

Скрипт запрашивает секретный ключ и загружает информацию о фильмах с `id` от `0` по `999`. Если фильм с таким `id` найден, то данные фильма сохраняются, если нет &ndash; то скрипт переходит к следующему `id`. Т.о. по итогу загрузки фильмов в локальной базе может оказаться меньше чем 999.

### Использование

В терминале введите команду:

```shell
python make_own_db.py
```

Скрипт запросит секретный ключ, необходимо его ввести, затем пойдет загрузка, которая может занять некоторое время (15-20 мин.). Процент готовности выводится в консоль:

```shell
Enter your api key v3:секретный_ключ
please, wait, this operation may take smth like 15-20 minutes
0.0 percent complete
1.0 percent complete
2.0 percent complete
...
100.0 percent complete
```

После успешной загрузки в корне проекта появится файл `MyFilmDB.json`.

# search_in_db.py

Поиск по локальной базе. Запрашивает имя базы, и название фильма для поиска.
Выводит все фильмы в названии которых встречается введенное название. Если ни одного фильма не найдено, то выводит сообщение:
```
"File not found, sorry...".
```

## Использование

В терминале введите команду:
```shell
python search_in_db.py
```

После чего скрипт запросит имя локальной базы и название фильма для поиска:

```shell
Enter path to DataBase:MyFilmDB.json
Enter film to search for:Arnold
```

Если фильмы содержащие искомое название найдены, то будут выведены их названия

```shell
Arnold
```
